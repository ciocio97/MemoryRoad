/routes:
  get:
    tags:
    - routes
    summary: 사용자 루트 조회. 로그인한 사용자의 루트를 조회하거나, 검색어, 필터를 통한 루트들을 요청할 수 있다.
    description: 1. page파라미터가 주어질 경우, 토큰을 이용해 마이페이지의 루트들을 반환한다.
                 2. page외의 파라미터들이 주어질 경우, 검색어에 따른 루트들이 반환된다.
    parameters:
        - name: page
          in: query
          description: 페이지 요청
          schema:
            type: integer
        - name: rq
          in: query
          description: 루트명 검색어
          schema:
            type: string
        - name: lq
          in: query
          description: 장소명 검색어
          schema:
            type: string
        - name: location
          in: query
          description: 지역 선택
          schema:
            type: string
        - name: time
          in: query
          description: 시간 선택
          schema:
            type: integer
    responses:
      '200':
       description: 조회 성공
       content:
        application/json:
          schema:
            properties:
              code:
                type: integer
                example: 200
              routes:
                type: array
                items:
                  $ref: './openapi.yaml#/components/schemas/Route'
              count:
                type: integer
                description: 총 루트의 개수
                example: 1
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
  post:
    tags:
    - routes
    summary: 루트 최초 생성. 루트와 dots의 정보를 body로 전달 받는다.
    description: 루트 생성
    responses:
      '201':
       description: 추가 성공
       content:
            application/json:
              schema:
               properties:
                code:
                  type: integer
                  example: 201
                message:
                  type: string
                  example: created
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
    requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                routeName:
                  description: 루트 제목
                  type: string
                  example: 루트 제목
                description:
                  description: 루트 설명
                  type: string
                  example: 루트 설명
                public:
                  description: 루트 공개 여부
                  type: boolean
                  example: false
                color:
                  description: 루트 색깔
                  type: string
                  example: red
                time:
                  description: 루트 시간
                  type: number
                  example: 5
                pins:
                  description: 루트에 포함된 핀들
                  type: array
                  items:
                    type: object
                    properties:
                      ranking:
                        type: integer
                        description: 핀의 순서
                        example: 0
                      locationName:
                        type: string
                        description: 핀의 이름
                        example: 경치 좋은 곳
                      latitude:
                        type: number
                        description: 위도
                        example: 33.0000000000
                      longitude:
                        type: number
                        description: 경도
                        example: 126.0000000000
                      address:
                        type: string
                        description: 핀의 주소
                        example: 서울특별시 성북구
                      startTime:
                        type: string
                        description: 핀의 시작 시간
                        example: '12'
                      endTime: 
                        type: string
                        description: 핀의 종료 시간
                        example: '13'
'/routes/{routesId}':
  patch:
    tags:
    - routes
    summary: 루트 제목, 내용 수정
    description: 루트 제목, 내용 수정
    parameters:
        - name: routeId
          in: path
          description: 루트의 아이디
          required: true
          schema:
            type: integer
    responses:
      '201':
      description: 수정 성공
      content:
            application/json:
              schema:
              properties:
                code:
                  type: integer
                  example: 201
                message:
                  type: string
                  example: updated
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              routeName:
                description: 루트 제목
                type: string
                example: 루트 제목
              description:
                description: 루트 설명
                type: string
                example: 루트 설명
              public:
                description: 루트 공개 여부
                type: boolean
                example: false
              color:
                description: 루트 색깔
                type: string
                example: red
              time:
                description: 루트 시간
                type: number
                example: 5         
  delete:
    tags:
    - routes
    summary: 루트 삭제
    description: 루트 삭제
    parameters:
        - name: routeId
          in: path
          description: 루트의 아이디
          required: true
          schema:
            type: integer
    responses:
      '200':
       description: 삭제 성공
       content:
            application/json:
              schema:
               properties:
                code:
                  type: integer
                  example: 200
                message:
                  type: string
                  example: deleted
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
'/routes/{routesId}/pins':
  get:
    tags:
    - routes
    summary: 해당 루트의 핀들 조회
    description: 해당 루트의 핀들 조회
    parameters:
        - name: routeId
          in: path
          description: 루트의 아이디
          required: true
          schema:
            type: integer
    responses:
      '200':
       description: 조회 성공
       content:
        application/json:
          schema:
            properties:
              code:
                type: integer
                example: 200
              pins:
                type: array
                items:
                  $ref: './openapi.yaml#/components/schemas/Pin'
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
  post:
    tags:
    - routes
    summary: 해당 루트에 핀을 새로 생성한다.
    description: 해당 루트에 핀을 새로 생성한다.
    parameters:
        - name: routeId
          in: path
          description: 루트의 아이디
          required: true
          schema:
            type: integer
    responses:
      '201':
       description: 생성 성공
       content:
        application/json:
          schema:
            properties:
              code:
                type: integer
                example: 201
              message:
                type: string
                example: created
      '400':
       description: 잘못된 형식의 요청
       content:
        application/json:
          schema:
            properties:
              code:
                type: integer
                example: 400
              message:
                type: string
                example: bad img type | Bad Request
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
    requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                pin:
                  type: string
                  description: 핀의 정보들
                  example: {"ranking": "2", "locationName": "핀이름", "address": "주소", "latitude": "12.123", "longitude": "123.123", "startTime": "1", "endTime": "2"}
                files:
                  type: file
                  description: 핀의 사진들
                
                
'/routes/{routesId}/pins/{pinId}':
  patch:
    tags:
    - routes
    summary: 핀 카드 수정
    description: 핀 카드 수정
    parameters:
        - name: routeId
          in: path
          description: 루트의 아이디
          required: true
          schema:
            type: integer
        - name: pinId
          in: path
          description: 핀의 아이디
          required: true
          schema:
            type: integer
    responses:
      '200':
       description: 수정 성공
       content:
            application/json:
              schema:
               properties:
                code:
                  type: integer
                  example: 200
                message:
                  type: string
                  example: updated
      '404':
        description: 없는 핀, 또는 다른 유저가 작성한 핀을 업데이트 하려는 경우
        content:
            application/json:
              schema:
               properties:
                code:
                  type: integer
                  example: 404
                message:
                  type: string
                  example: 'not found'
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
    requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ranking:
                  type: integer
                  description: 핀의 순서
                  example: 0
                locationName:
                  type: string
                  description: 핀의 이름
                  example: 경치 좋은 곳
                latitude:
                  type: number
                  description: 위도
                  example: 33.0000000000
                longitude:
                  type: number
                  description: 경도
                  example: 126.0000000000
                address:
                  type: string
                  description: 핀의 주소
                  example: 서울특별시 성북구
                startTime:
                  type: string
                  description: 핀의 시작 시간
                  example: '12'
                endTime: 
                  type: string
                  description: 핀의 종료 시간
                  example: '13'    
  delete:
    tags:
    - routes
    summary: pin 카드 삭제
    description: pin 카드 삭제
    parameters:
        - name: routeId
          in: path
          description: 루트의 아이디
          required: true
          schema:
            type: integer
        - name: pinId
          in: path
          description: 핀의 아이디
          required: true
          schema:
            type: integer
    responses:
      '200':
       description: 삭제 성공
       content:
            application/json:
              schema:
               properties:
                code:
                  type: integer
                  example: 200
                message:
                  type: string
                  example: deleted
      '404':
        description: 없는 핀, 또는 다른 유저가 작성한 핀을 삭제 하려는 경우
        content:
            application/json:
              schema:
               properties:
                code:
                  type: integer
                  example: 404
                message:
                  type: string
                  example: 'not found'
      '500':
        description: 서버 오류
        content: 
            application/json:
              schema:
                type: object
                $ref: './openapi.yaml#/components/responses/ServerErr'
